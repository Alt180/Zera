#!/bin/expect -f
#
# This Expect script was generated by autoexpect on Thu Apr 26 11:55:55 2018
# Expect and autoexpect were both written by Don Libes, NIST.
#
# Note that autoexpect does not guarantee a working script.  It
# necessarily has to guess about certain things.  Two reasons a script
# might fail are:
#
# 1) timing - A surprising number of programs (rn, ksh, zsh, telnet,
# etc.) and devices discard or ignore keystrokes that arrive "too
# quickly" after prompts.  If you find your new script hanging up at
# one spot, try adding a short sleep just before the previous send.
# Setting "force_conservative" to 1 (see below) makes Expect do this
# automatically - pausing briefly before sending each character.  This
# pacifies every program I know of.  The -c flag makes the script do
# this in the first place.  The -C flag allows you to define a
# character to toggle this mode off and on.

set force_conservative 0  ;# set to 1 to force conservative mode even if
			  ;# script wasn't run conservatively originally
if {$force_conservative} {
	set send_slow {1 .1}
	proc send {ignore arg} {
		sleep .1
		exp_send -s -- $arg
	}
}

#
# 2) differing output - Some programs produce different output each time
# they run.  The "date" command is an obvious example.  Another is
# ftp, if it produces throughput statistics at the end of a file
# transfer.  If this causes a problem, delete these patterns or replace
# them with wildcards.  An alternative is to use the -p flag (for
# "prompt") which makes Expect only look for the last line of output
# (i.e., the prompt).  The -P flag allows you to define a character to
# toggle this mode off and on.
#
# Read the man page for more info.
#
# -Don


set timeout -1
spawn emacs
match_max 100000
expect -exact "\[?1049h\[?12;25h\[?1h=\[H\[2J\[45d\[K\[?1l>\[?12l\[?25h\[?1049l\[39;49m\r\[?1049h\[?12;25h\[?1h=\[H\[2J\[44d\[?25l\[7m-UUU:----F1  \[0m\[39;49m\[27m\[7m\[1m*scratch*   \[0m\[39;49m\[27m\[7m   All L1     (Fundamental) ---------------------------------------------------------------\[0m\[39;49m\[27m\r
\[A\[2d\[?12l\[?25h\[?12;25h\[45d\[?25lLoading /usr/share/emacs/site-lisp/site-start.d/desktop-entry-mode-init.el (source)...\[K\[H
\[?12l\[?25h\[?12;25h\[45;87H\[?25ldone\[H
\[?12l\[?25h\[?12;25h\[>0c\[45d\[?25lLoading /usr/share/emacs/site-lisp/site-start.d/desktop-entry-mode-init.el (source)...done\[K\[H\[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                                               \[0m\[39;49m\[27m\r
\[A
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[7m-UUU:----F1  \[0m\[39;49m\[27m\[7m\[1m*scratch*   \[0m\[39;49m\[27m\[7m   All L1     (Lisp Interaction) ----------------------------------------------------------\[0m\[39;49m\[27m\r
\[A\[2d\[?12l\[?25h\[?12;25h"
send -- "\[>0;136;0c"
expect -exact "\[45d\[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.\[K\[H
\[?12l\[?25h\[?12;25h\[45d\[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.\[K\[H\[7mFile Edit Options Buffers Tools Help                                                                                \[0m\[39;49m\[27m\r
\[A
Welcome to GNU Emacs, one component of the GNU/Linux operating system.\[K\r
\[K
Get help           C-h  (Hold down CTRL and press h)\[K\r
\[4m\[34mEmacs manual\[0m\[39;49m       C-h r        \[4m\[34mBrowse manuals\[0m\[39;49m     C-h i\[K\r
\[4m\[34mEmacs tutorial\[0m\[39;49m     C-h t        Undo changes       C-x u\[K\r
\[4m\[34mBuy manuals\[0m\[39;49m        C-h RET      Exit Emacs         C-x C-c\[K\r
\[4m\[34mActivate menubar\[0m\[39;49m   M-`\[K\r
(`C-' means use the CTRL key.  `M-' means use the Meta (or Alt) key.\[K\r
If you have no Meta key, you may instead type ESC followed by the character.)\[K\r
Useful tasks:\[K\r
\[4m\[34mVisit New File\[0m\[39;49m                  \[4m\[34mOpen Home Directory\[0m\[39;49m\[K\r
\[4m\[34mCustomize Startup\[0m\[39;49m               \[4m\[34mOpen *scratch* buffer\[0m\[39;49m\[K\r
\[K
GNU Emacs 24.3.1 (x86_64-redhat-linux-gnu, GTK+ Version 3.22.10)\[K\r
 of 2017-09-20 on c1bm.rdu2.centos.org\[K\r
Copyright (C) 2013 Free Software Foundation, Inc.\[K\r
\[K
GNU Emacs comes with ABSOLUTELY NO WARRANTY; type C-h C-w for \[4m\[34mfull details\[0m\[39;49m.\[K\r
Emacs is Free Software--Free as in Freedom--so you can redistribute copies\[K\r
of Emacs and modify it; type C-h C-c to see \[4m\[34mthe conditions\[0m\[39;49m.\[K\r
Type C-h C-o for information on \[4m\[34mgetting the latest version\[0m\[39;49m.\[K\r
\[K
If an Emacs session crashed recently, type Meta-x recover-session RET\[K\r
to recover the files you were editing.\[K\r
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[K
\[7m-UUU:%%--F1  \[0m\[39;49m\[27m\[7m\[1m*GNU Emacs* \[0m\[39;49m\[27m\[7m   All L1     (Fundamental) ---------------------------------------------------------------\[0m\[39;49m\[27m\r
\[A\[2d\[?12l\[?25h\[?12;25h"
send -- ""
expect -exact "\[45d\[K\[2d"
send -- ""
expect -exact "\[45d\[?25l\[34mFind file: \[39;49m/var/log/httpd/\[1;33H\[7mMinibuf Help\[0m\[39;49m\[27m\[45;27H\[?12l\[?25h\[?12;25h"
send -- ""
expect -exact "\[K"
send -- ""
expect -exact "\[K"
send -- ""
expect -exact "\[K"
send -- ""
expect -exact "\[K"
send -- ""
expect -exact "\[K"
send -- ""
expect -exact "\[K"
send -- ""
expect -exact "\[K"
send -- ""
expect -exact "\[K"
send -- ""
expect -exact "\[K"
send -- ""
expect -exact "\[K"
send -- ""
expect -exact "\[K"
send -- ""
expect -exact "\[K"
send -- ""
expect -exact "\[K"
send -- ""
expect -exact "\[K"
send -- ""
expect -exact "\[K"
send -- ""
expect -exact "\r\[?25lText is read-only\[?12l\[?25h\[?12;25h"
send -- ""
expect -exact ""
send -- ""
expect -exact ""
send -- ""
expect -exact ""
send -- ""
expect -exact ""
send -- ""
expect -exact ""
send -- ""
expect -exact ""
send -- ""
expect -exact "\r\[?25l\[34mFind file: \[39;49m\[K\[?12l\[?25h\[?12;25h"
send -- "/etc/sysconfig/selinux"
expect -exact "\[?25l/etc/sysconfig/selinux\[?12l\[?25h\[?12;25h"
send -- "\r"
expect -exact "\[K\[1;33H\[?25l\[7mConf Help   \[0m\[39;49m\[27m\r
\[K
\[31m# This file controls the state of SELinux on the system.                                                            \[39;49m\r
\[31m# SELINUX= can take one of these three values:                                                                      \[39;49m\r
\[31m#     enforcing - SELinux security policy is enforced.                                                              \[39;49m\r
\[31m#     permissive - SELinux prints warnings instead of enforcing.                                                    \[39;49m\r
\[31m#     disabled - No SELinux policy is loaded.                                                                       \[39;49m\r
\[33mSELINUX\[39;49m=enforcing\[K\r
\[31m# SELINUXTYPE= can take one of three two values:                                                                    \[39;49m\r
\[31m#     targeted - Targeted processes are protected,                                                                  \[39;49m\r
\[31m#     minimum - Modification of targeted policy. Only selected processes are protected.                             \[39;49m\r
\[31m#     mls - Multi Level Security protection.                                                                        \[39;49m\r
\[33mSELINUXTYPE\[39;49m=targeted\[K\r

\[K
\[K
\[K

\[K
\[K
\[K
\[K

\[K
\[K\[44;4H\[7m-:----F1  \[0m\[39;49m\[27m\[7m\[1mselinux     \[0m\[39;49m\[27m\[7m   All L1     (Conf\[Unix\]) -\[0m\[39;49m\[27m\[H
\[?12l\[?25h\[?12;25h"
send -- "OB"
expect -exact "\[44;34H\[?25l\[7m2\[0m\[39;49m\[27m\[H

\[?12l\[?25h\[?12;25h"
send -- "OB"
expect -exact "\[44;34H\[?25l\[7m3\[0m\[39;49m\[27m\[4;1H\[?12l\[?25h\[?12;25h"
send -- "OB"
expect -exact "\[44;34H\[?25l\[7m4\[0m\[39;49m\[27m\[5;1H\[?12l\[?25h\[?12;25h"
send -- "OB"
expect -exact "\[44;34H\[?25l\[7m5\[0m\[39;49m\[27m\[6;1H\[?12l\[?25h\[?12;25h"
send -- "OB"
expect -exact "\[44;34H\[?25l\[7m6\[0m\[39;49m\[27m\[7;1H\[?12l\[?25h\[?12;25h"
send -- "OB"
expect -exact "\[44;34H\[?25l\[7m7\[0m\[39;49m\[27m\[8;1H\[?12l\[?25h\[?12;25h"
send -- "OC"
expect -exact "\[C"
send -- "OC"
expect -exact "\[C"
send -- "OC"
expect -exact "\[C"
send -- "OC"
expect -exact "\[C"
send -- "OC"
expect -exact "\[C"
send -- "OC"
expect -exact "\[C"
send -- "OC"
expect -exact "	"
send -- "OC"
expect -exact "	"
send -- "\[3~"
expect -exact "\[?25lnforcing\[K\[44;6H\[7m**\[0m\[39;49m\[27m\[8;9H\[?12l\[?25h\[?12;25h"
send -- "\[3~"
expect -exact "\[?25lforcing\[K\r	\[?12l\[?25h\[?12;25h"
send -- "\[3~"
expect -exact "\[?25lorcing\[K\r	\[?12l\[?25h\[?12;25h"
send -- "\[3~"
expect -exact "\[?25lrcing\[K\r	\[?12l\[?25h\[?12;25h"
send -- "\[3~"
expect -exact "\[?25lcing\[K\r	\[?12l\[?25h\[?12;25h"
send -- "\[3~"
expect -exact "\[?25ling\[K\r	\[?12l\[?25h\[?12;25h"
send -- "\[3~"
expect -exact "\[?25lng\[K\[?12l\[?25h\[?12;25h"
send -- "\[3~"
expect -exact "\[?25lg\[K\[?12l\[?25h\[?12;25h"
send -- "\[3~"
expect -exact "\[K"
send -- "d"
expect -exact "\[?25ld\[?12l\[?25h\[?12;25h"
send -- "i"
expect -exact "\[?25li\[?12l\[?25h\[?12;25h"
send -- "s"
expect -exact "\[?25ls\[?12l\[?25h\[?12;25h"
send -- "a"
expect -exact "\[?25la\[?12l\[?25h\[?12;25h"
send -- "b"
expect -exact "\[?25lb\[?12l\[?25h\[?12;25h"
send -- "l"
expect -exact "\[?25ll\[?12l\[?25h\[?12;25h"
send -- "e"
expect -exact "\[?25le\[?12l\[?25h\[?12;25h"
send -- "d"
expect -exact "\[?25ld\[?12l\[?25h\[?12;25h"
send -- ""
expect -exact "\[45;1H\[?25l\[34mSave file /etc/sysconfig/selinux? (y, n, !, ., q, C-r, d or C-h) \[39;49m\[?12l\[?25h\[?12;25h"
send -- "y"
expect eof
